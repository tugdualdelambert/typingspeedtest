(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2974:function(e,r,t){Promise.resolve().then(t.bind(t,4402))},4402:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return x}});var a=t(7437),n=t(2265),s=t(1538),i=t(2218),l=t(4839),c=t(6164);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,c.m6)((0,l.W)(r))}let u=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,r)=>{let{className:t,variant:n,size:i,asChild:l=!1,...c}=e,d=l?s.g7:"button";return(0,a.jsx)(d,{className:o(u({variant:n,size:i,className:t})),ref:r,...c})});d.displayName="Button";var f=t(4968);let m=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsxs)(f.fC,{ref:r,className:o("relative flex w-full touch-none select-none items-center",t),...n,children:[(0,a.jsx)(f.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,a.jsx)(f.e6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(f.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});m.displayName=f.fC.displayName;let h=["bleu","super","autre","bizarre","difficile","dr\xf4le","\xe9trange","facile","grave","impossible","jeune","juste","libre","malade","m\xeame","pauvre","possible","propre","rouge","sale","simple","tranquille","triste","vide","faux","fran\xe7ais","gros","heureux","mauvais","s\xe9rieux","vieux","vrai","ancien","beau","blanc","certain","chaud","cher","clair","content","dernier","d\xe9sol\xe9","diff\xe9rent","droit","entier","fort","froid","gentil","grand","haut","humain","important","joli","l\xe9ger","long","meilleur","mort","noir","nouveau","pareil","petit","plein","premier","pr\xeat","prochain","quoi","seul","tout","vert","vivant","aide","chef","enfant","garde","gauche","geste","gosse","livre","merci","mort","ombre","part","poche","professeur","tour","fois","madame","paix","voix","affaire","ann\xe9e","arme","arm\xe9e","attention","balle","bo\xeete","bouche","carte","cause","chambre","chance","chose","classe","confiance","couleur","cour","cuisine","dame","dent","droite","\xe9cole","\xe9glise","envie","\xe9paule","\xe9poque","\xe9quipe","erreur","esp\xe8ce","face","fa\xe7on","faim","famille","faute","femme","fen\xeatre","f\xeate","fille","fleur","force","forme","guerre","gueule","habitude","heure","histoire","id\xe9e","image","impression","jambe","joie","journ\xe9e","langue","lettre","l\xe8vre","ligne","lumi\xe8re","main","maison","maman","mani\xe8re","marche","merde","m\xe8re","minute","musique","nuit","odeur","oreille","parole"];var g=e=>Array.from({length:e},()=>h[Math.floor(Math.random()*h.length)]);function p(e){let{newScore:r}=e,[t,s]=(0,n.useState)({accuracy:0,speed:0}),{counter:i,resetCounter:l}=function(){let[e,r]=(0,n.useState)(0),[t,a]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{if(0===e||!0===t)return;let a=setInterval(()=>r(e-1),1e3);return()=>clearInterval(a)},[e]),{counter:e,resetCounter:()=>{r(60),a(!1)},setStop:a}}(),[c,o]=(0,n.useState)(!1),[u,f]=(0,n.useState)("Press Start to begin typing."),[h,p]=(0,n.useState)("");(0,n.useEffect)(()=>{x()},[i]);let b=e=>{e&&0==e.detail||(f(g(120).join(" ")),p(""),s({accuracy:0,speed:0}),o(!0),l())},x=()=>{if(!1===c)return;let e=Math.round((u.substring(0,h.length).split(" ").length-1)*(60/(60-i))),r=h.split("").reduce((e,r,t)=>(r===u[t]&&e++,e),0);s({accuracy:0===h.length?100:Math.round(r/h.length*100),speed:e})},v=e=>{e.preventDefault(),"Backspace"===e.key&&(p(h.slice(0,-1)),document.removeEventListener("keydown",v,!0)),1===e.key.length&&!0===c&&(p(h+e.key),document.removeEventListener("keydown",v,!0))};return(0,n.useEffect)(()=>{0===i&&t.speed>0&&t.accuracy>0&&!0===c&&(o(!1),r({wpm:t.speed,accuracy:t.accuracy}))},[i]),(0,n.useEffect)(()=>{document.addEventListener("keydown",v,!0)},[h,c]),(0,n.useEffect)(()=>{document.addEventListener("keydown",e=>{if(e.preventDefault(),!0===e.shiftKey&&"Space"===e.code){b(void 0);return}})},[]),(0,a.jsxs)("div",{className:"max-w-6xl w-full pt-4 p-8 bg-white rounded-lg shadow-lg dark:bg-gray-800",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center dark:text-gray-200",children:"Typing Speed Test"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center",children:"Test your typing speed and accuracy."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(m,{defaultValue:[],value:[Math.round(i/60*100)],max:100,step:1,className:"w-full"}),(0,a.jsx)("div",{className:"bg-gray-100 p-4 rounded-md dark:bg-gray-700",children:(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:(()=>{let e=h.split("").map((e,r)=>(0,a.jsx)("span",{className:e===u[r]?"text-green-500":"text-red-500",children:u[r]},r)),r=(0,a.jsx)("span",{className:"bg-gray-500 text-gray-100",children:u[h.length]||" "}),t=(0,a.jsx)("span",{className:"text-gray-500",children:u.slice(h.length+1)});return(0,a.jsxs)(a.Fragment,{children:[e,r,t]})})()})}),(0,a.jsxs)("div",{className:"flex justify-between text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{children:["Accuracy:",(0,a.jsxs)("span",{className:"font-medium",children:[t.accuracy," %"]})]}),(0,a.jsxs)("div",{className:"flex items-center flex-col",children:[(0,a.jsx)("p",{className:"w-full text-center hidden md:block",children:"Shift + space to start"}),(0,a.jsx)(d,{onClick:e=>b(e),className:"w-full  bg-blue-500 hover:bg-blue-600 text-white font-medium px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-blue-600 dark:hover:bg-blue-700",children:c?i:"Start"})]}),(0,a.jsxs)("div",{children:["Speed:",(0,a.jsxs)("span",{className:"font-medium",children:[t.speed," WPM"]})]})]})]})]})}var b=t(7818);function x(){let[e,r]=(0,n.useState)([]),[s,i]=(0,n.useState)([]);(0,n.useEffect)(()=>{fetch("/api/scores").then(e=>e.json()).then(e=>{r(e.scores)})},[]);let l=(0,b.default)(()=>Promise.all([t.e(575),t.e(407)]).then(t.bind(t,8792)),{loadableGenerated:{webpack:()=>[8792]},ssr:!1});return(0,a.jsxs)("main",{className:"flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-900 p-4",children:[(0,a.jsx)(p,{newScore:e=>{i([...s,e]),fetch("/api/scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}),(0,a.jsx)(l,{scores:e,myscores:s})]})}}},function(e){e.O(0,[831,971,23,744],function(){return e(e.s=2974)}),_N_E=e.O()}]);